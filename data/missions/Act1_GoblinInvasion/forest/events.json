{
    "началоИгры": {
        "id": "началоИгры",
        "initState": "началоИгры",
        "states": {
            "началоИгры": {
                "description": "Уже несколько дней как вы еще с несколькими ребятами охотитесь в лесу. Добычи уже набралось немало, поэтому пора возвращаться в охотничий домик с очередным оленем, разделать добычу и возвращаться в деревню.",
                "actions": [
                    {"name": "Перейти к карте", "result": [
                        {"type": "startQuest", "questId": "ОкончаниеОхоты"},
                        {"type": "closeEvent"}
                    ]}
                ]
            }
        }
    },
    "ОхотничийЛагерь": {
        "id": "ОхотничийЛагерь",
        "initState": "локация",
        "states": {
            "локация": {
                "description": "Лагерь представляет из себя небольшой дом, где могут переночевать несколько человек, а также погреб для хранения добычи.",
                "actions": [
                    {
                        "name": "Подойти к лагерю",
                        "visibleConditions": [
                            {"type": "hasNotQuestNotes", "questId": "ОкончаниеОхоты", "notes": ["2"]}
                        ],
                        "result": [{"type": "setEventState", "stateId": "окруженыГоблинами"}]
                    },
                    {
                        "name": "Собрать мясо",
                        "visibleConditions": [
                            {"type": "hasQuestNotes", "questId": "ПомощьБеженцам", "notes": ["1"]},
                            {"type": "hasNotQuestNotes", "questId": "ПомощьБеженцам", "notes": ["3"]}
                        ],
                        "result": [{"type": "addQuestNote", "questId": "ПомощьБеженцам", "note": "3"}]
                    },
                    {"name": "Перейти к карте", "result": [{"type": "closeEvent"}]}
                ]
            },
            "окруженыГоблинами": {
                "description": "Подойдя ближе вы заметили с десяток гоблинов, которые пытались самодельным тараном пробить дверь в дом. По крикам людей в доме вы узнали одного из жителей деревни.<br>Нужно их выручать.",
                "actions": [
                    {
                        "name": "Напасть на гоблинов с тыла",
                        "result": [
                            {"type": "closeEvent"},
                            {
                                "type": "startBattle", 
                                "enemies": [
                                    {"unitType": "goblin_scout", "x": 4, "y": 2}
                                ],
                                "battlefield": {
                                    "width": 5,
                                    "height": 5,
                                    "objects": [
                                        {"x": 1, "y": 1, "id": "forest"},
                                        {"x": 2, "y": 2, "id": "forest"},
                                        {"x": 0, "y": 0, "id": "mountain"}
                                    ],
                                    "hexesToPlaceUnits": [
                                        {"x": 0, "y": 2}
                                    ]                                    
                                },
                                "result": {
                                    "success": [
                                        {"type": "addExp", "exp": 100},                                        
                                        {"type": "addQuestNote", "questId": "ОкончаниеОхоты", "note": "2"},
                                        {"type": "showEvent", "eventId": "ОхотничийЛагерь", "initState": "победаНадГоблинами"}
                                    ],
                                    "failed": [
                                        {"type": "showEvent", "eventId": "ОхотничийЛагерь", "initState": "победаГоблинов"}
                                    ]
                                }
                            }
                        ]
                    }
                ]
            },
            "победаНадГоблинами": {
                "description": "Все гоблины убиты, от спасенных людей вы узнаете, что деревня была атакована орками и гоблинами, а уцелевшие смогли укрыться в старой заброшенной лесопилку. Нужно отправляться туда.",
                "actions": [
                    {
                        "name": "Подойти к охотничьему домику",
                        "result": [
                            {"type": "addKnownLocation", "mapId": "forest", "locationId": "ЗаброшеннаяЛесопилка"},
                            {"type": "addKnownLocation", "mapId": "forest", "locationId": "ДорогаНаЛесопилку"},
                            {"type": "setEventState", "stateId": "локация"}
                        ]
                    }
                ]
            },
            "победаГоблинов": {
                "description": "Гоблины оказались сильнее и вам пришлось отступить, но нельзя бросать людей, нужно попытаться еще раз",
                "actions": [
                    {
                        "name": "Снова подойте к лагерю",
                        "visibleConditions": [
                            {"type": "hasNotQuestNotes", "questId": "ОкончаниеОхоты", "notes": [3]}
                        ],
                        "result": [{"type": "setEventState", "stateId": "окруженыГоблинами"}]
                    }
                ]
            }
        }
    },
    "РуиныДревнегоХрама": {
        "id": "ОхотничийЛагерь",
        "initState": "локация",
        "states": {
            "локация": {
                "description": "Если о нем не знать, то можно пропустить его просто проходя мимо: природа знает свое дело, внешние стены храма практически полностью заросли лианами, а могучие деревья не дают приблизиться к ним.",
                "actions": [
                    {
                        "name": "Разведать храм",
                        "visibleConditions": [
                            {"type": "hasNotQuestNotes", "questId": "ПоискУбежища", "notes": ["2"]},
                            {"type": "hasNotQuestNotes", "questId": "ПоискУбежища", "notes": ["5"]}
                        ],
                        "result": [{"type": "setEventState", "stateId": "разведка"}]
                    },
                    {"name": "Перейти к карте", "result": [{"type": "closeEvent"}]}
                ]
            },
            "разведка": {
                "description": "Вы потратили немало времени, прежде чем смогли найти вход за стены. Внутри вы увидели большое здание с толстыми стенами, где все так же заросло растениями. Кроме этого вы увидели группу монстров, которые кушали останки оленя возле кхода. Похожу внтури они устроили себе логово.",
                "actions": [
                    {
                        "name": "Назад",                        
                        "result": [{"type": "setEventState", "stateId": "локация"}]
                    }
                ]
            }
        }
    }
}